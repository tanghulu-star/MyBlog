<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>登录页面</title>
    <link href="../../css/login.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="wrap">
    <div class="login-wrap">
        <div class="login-title">
            登录
        </div>
        <form action="../index.html" method="post">
            <div class="login-form">
                <input type="text" id="account" name="account" placeholder="请输入账号" class="login-input">
                <input type="password" id="password" name="password" placeholder="请输入密码" class="login-input">
                <span id="msg" style="color: #7d3ebc;text-align: center"></span>
                <input type="submit" id="loginBtn" name="login" value="登录" class="login-submit"/>
            </div>
        </form>
        <div class="tip">
            没 有 账 号 ?<a href="register.html">注 册 一 个</a>
        </div>
    </div>
</div>
</body>
</html>
<script>
    window.onload = function () {
        let account=document.querySelector("#account");
        let password=document.querySelector("#password");
        let loginBtn=document.querySelector("#loginBtn");
        let msg=document.querySelector("#msg");
        let user=JSON.parse(sessionStorage.getItem("user"));
        loginBtn.addEventListener("click",function () {
            if(user==null){
                event.preventDefault();
                msg.innerHTML="这个账号还未被注册，请重新输入";
            }
            else if(account.value!==user.account||password.value!==user.password1){
                event.preventDefault();
                msg.innerHTML="账号或者密码错误，请重新输入";
                this.form.reset();
            }
        },false);
    }
</script>
