<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>注册页面</title>
    <link href="../../css/login.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="wrap">
    <div class="login-wrap">
        <div class="login-title">
            注册
        </div>
        <form action="login.html" method="post">
            <div class="login-form">
                <input required type="text" name="username" placeholder="请输入用户名" class="login-input">
                <input required type="text" name="account" placeholder="请输入账号" class="login-input">
                <input required type="password" id="password1" name="password1" placeholder="请输入密码" class="login-input">
                <input required type="password" id="password2" name="password2" placeholder="请再次输入上面的密码" class="login-input">
                <span id="msg" style="color: #7d3ebc;"></span>
                <input type="submit" id="register" name="register" value="注册" class="login-submit"/>
            </div>
        </form>
        <div class="tip">
            已 有 账 号 ?<a href="login.html">直 接 登 录</a>
        </div>
    </div>
</div>
</body>
</html>
<script>
window.onload=function () {
    let password1=document.querySelector("#password1");
    let password2=document.querySelector("#password2");
    let registerBtn=document.querySelector("#register");
    let msg=document.querySelector("#msg");
    registerBtn.addEventListener("click",function () {
        if (password1.value!==password2.value){
            msg.innerHTML="两次输入的密码不一致,请重新输入";
            setTimeout(function () {
                msg.innerHTML="";
            },2000);
            event.preventDefault();
        }else{
            let formData=new FormData(this.form);
            let user={};
            for (let entry of formData.entries()){
                user[entry[0]] = entry[1];
            }
            sessionStorage.setItem("user",JSON.stringify(user));
        }
    },false)
}
</script>

